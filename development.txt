
On startup:
                        updateMapCameraPosition()
Or change to .follow shortly, then back to .none. Or default to .follow?




Have four states, one not displaying user location at all?













https://developer.apple.com/documentation/corelocation/handling-location-updates-in-the-background

https://developer.apple.com/documentation/corelocation/handling-location-updates-in-the-background#Add-the-background-mode-capability





While in the background, it receives the location updates,
stores the locations, but does not draw them on the map.
It will draw the cached locations on the map when it goes to the foreground.

It stores the track in the app settings, perhaps a database. This persists them.
If the app starts, and the track has not yet been drawn, it draw the track from the database.
This is more robust for crashes too.

If tracking and following are off, then make things very efficient in the background so it uses hardly any power.

In the background, it never follows the user that is, it does not move the map camera.











Mapkit overlays.
https://developer.apple.com/documentation/mapkit/mapkit-overlays







Once areas get covered, there's more and more annotations to draw.
Will that affect performance?
Mitigating measures:
* Draw the covered areas only in the visible area.
* Make a menu to call a procedure to join areas into one to reduce the number of areas.
* If drawing a new covered area, and it entirely overlays existing areas, then those existing areas will be removed and effectually replaced by the larger area. This may significantly reduce the areas if used wisely.







Have app background permissions, it won't draw on the map, it will just record the track, and draw the remainder on the map once it moves to the foreground.


Currently if the app moves to the foreground, it gives a red indication for the location. Switching tracking off and on again fixes that. Think of a better fix.



Use the location manager's magnetometer data.
https://github.com/mryssng/MagnetometerDemo
This info can be used to correct for the map rotation so it rotates if if the person does not move.
This way the user can rotate the map and see on the map where the user is on a crossroad.




Check on whether make locationManager.desiredAccuracy settable via menu.




The buttons and menus, should they be visible on the map itself?


